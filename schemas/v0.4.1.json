{"$schema":"http://json-schema.org/draft-07/schema#","title":"Document","type":"object","required":["detection","static_cuas_location","system_name","tracks","vendor_name","version"],"properties":{"detection":{"description":"A list containing the detection sets present in the document.\n\nDetection sets should be used when the CUAS is surveying the perimeter for targets to detect.","type":"array","items":{"$ref":"#/definitions/Detection"}},"static_cuas_location":{"description":"The 3D GPS location of the CUAS. Can be overriden per Record, but even if overriden this value must exist and be a valid position.","allOf":[{"$ref":"#/definitions/Position3d"}]},"system_name":{"type":"string"},"tracks":{"description":"A list containing the tracks present in the document.\n\nTracks should be used when the CUAS has locked on a target and is actively tracking its position. Their records describe the trajectory of a specific target.","type":"array","items":{"$ref":"#/definitions/Track"}},"vendor_name":{"type":"string"},"version":{"$ref":"#/definitions/Version"}},"definitions":{"Alarm":{"description":"An Alarm is defined as the function of a CUAS system alerting an Operator via the HMI and the generation of associated data in the UAS Activity Log, as a result of Declared UAS activity.","type":"object","required":["active","certainty"],"properties":{"active":{"description":"Whether the alarm function of the CUAS system is active or not.","type":"boolean"},"certainty":{"description":"How certain is the system of an active alarm, as a value from 0 (Least likely) to 1 (Most likely).","type":"number","format":"double","maximum":1.0,"minimum":0.0}}},"Classification":{"type":"string","enum":["Unknown","UAV","GCS","Other"]},"CoordENU":{"description":"Local cartesian coordinates given in East, North and Up using WGS84.","type":"object","required":["east","north","up"],"properties":{"east":{"description":"Component tangent to the parallels. (Positive = east, negative = west)","type":"number","format":"double"},"north":{"description":"Component to meridians. (Positive = north, negative = south)","type":"number","format":"double"},"up":{"description":"Component perpendicular to the WGS84 ellipsoid. (Positive = up, negative = down)","type":"number","format":"double"}}},"Detection":{"type":"object","required":["records"],"properties":{"name":{"description":"Free-form text describing the detection set. Can be, for instance, the name present on the HMI.","type":["string","null"]},"records":{"description":"A list of records associated with this detection.","type":"array","items":{"$ref":"#/definitions/DetectionRecord"}},"uas_id":{"description":"A unique ID used to associate this detection with a specific UAS. The number itself is not relevant, it just needs to be unique per UAS.\n\nIf null, means the system was not able to identify the records present along with this object with any specific UAS.","type":["integer","null"],"format":"uint64","minimum":0.0},"uav_home_location":{"description":"If this detection set refers to a specific UAV (i.e. the uas_id member is set) and if applicable, this member refers to the \"home location\" set on the UAV settings. This information can be available for C-UAS systems that listen to the data link protocol between the UAV and its GCS.","anyOf":[{"$ref":"#/definitions/Position3d"},{"type":"null"}]}}},"DetectionRecord":{"description":"A detection data record. Its main difference with tracking data records is the `alarm` and `location` members being optional.","type":"object","required":["classification","record_number","time"],"properties":{"alarm":{"description":"If the record has Alarm data on this record, it may be specified here.","anyOf":[{"$ref":"#/definitions/Alarm"},{"type":"null"}]},"classification":{"description":"Classification of the record.","allOf":[{"$ref":"#/definitions/Classification"}]},"cuas_location":{"description":"The 3D GPS location of the CUAS recorded on this instant. Overrides the document's static_cuas_location.\n\nIf the CUAS is located at the static_cuas_location on this instant, you may skip this field.","anyOf":[{"$ref":"#/definitions/Position3d"},{"type":"null"}]},"identification":{"description":"Free form text, possibly describing the model or configuration of the UAS identified.","type":["string","null"]},"location":{"description":"The UAS location, which may be given in one of several declaration types.\n\nOn detection sets, this member may also be excluded if the position of the UAS is not known.","anyOf":[{"$ref":"#/definitions/Location"},{"type":"null"}]},"record_number":{"description":"A unique number that identifies this record between all other ones present in the document.","type":"integer","format":"uint64","minimum":0.0},"time":{"description":"UTC time as an Unix millisecond timestamp.","type":"integer","format":"uint64","minimum":0.0},"velocity":{"description":"The UAS velocity given in ENU coordinates (given from the UAS position and given in meters per second).","default":null,"anyOf":[{"$ref":"#/definitions/CoordENU"},{"type":"null"}]}}},"Location":{"description":"Location of an UAS, which may be relative to the CUAS.\nLocation objects are composed of a single key which indicates the variant being used and a content element associated with it which contains the variant's data.","oneOf":[{"description":"Circular arc relative to the CUAS within which the UAS resides.","type":"object","required":["$type","from","to"],"properties":{"$type":{"type":"string","enum":["Arc"]},"from":{"description":"Minimum compass angle from the CUAS System to the UAS in degrees.","type":"number","format":"double"},"to":{"description":"Maximum compass angle from the CUAS System to the UAS in degrees.","type":"number","format":"double"}}},{"description":"Compass quadrant where the UAS has been observed.","type":"object","required":["$type","quad"],"properties":{"$type":{"type":"string","enum":["Quad"]},"quad":{"$ref":"#/definitions/Quad"}}},{"description":"Clockwise angle in degrees from true north where the UAS has been observed.","type":"object","required":["$type","bearing"],"properties":{"$type":{"type":"string","enum":["Bearing"]},"bearing":{"type":"number","format":"double"}}},{"description":"Flat 2D position given in latitude and longitude.","type":"object","required":["$type","lat","lon"],"properties":{"$type":{"type":"string","enum":["Position2d"]},"lat":{"description":"GPS WGS84 latitude measured in degrees.","type":"number","format":"double"},"lon":{"description":"GPS WGS84 longitude measured in degrees.","type":"number","format":"double"}}},{"description":"3D position given in latitude, longitude and height.","type":"object","required":["$type","height_amsl","lat","lon"],"properties":{"$type":{"type":"string","enum":["Position3d"]},"height_amsl":{"description":"Height measured in meters from mean sea level (EGM96).","type":"number","format":"double"},"lat":{"description":"GPS WGS84 latitude measured in degrees.","type":"number","format":"double"},"lon":{"description":"GPS WGS84 longitude measured in degrees.","type":"number","format":"double"}}},{"description":"Ray where the UAS has been observed given in bearing and elevation.","type":"object","required":["$type","bearing","elevation"],"properties":{"$type":{"type":"string","enum":["BearingElevation"]},"bearing":{"description":"Clockwise angle in degrees from true north where the UAS has been observed.","type":"number","format":"double"},"elevation":{"description":"Elevation angle in degrees over the horizon where the UAS has been observed.","type":"number","format":"double"}}},{"description":"3D position of the UAS given in bearing, elevation angle and distance.","type":"object","required":["$type","bearing","distance","elevation"],"properties":{"$type":{"type":"string","enum":["BearingElevationDistance"]},"bearing":{"description":"Clockwise angle in degrees from true north where the UAS has been observed.","type":"number","format":"double"},"distance":{"description":"Distance from the UAS to the CUAS given in meters.","type":"number","format":"double"},"elevation":{"description":"Elevation angle in degrees over the horizon where the UAS has been observed.","type":"number","format":"double"}}}]},"Position3d":{"description":"3D (WGS84 horizontal datum EGM96 vertical datum) position given in latitude, longitude and height.","type":"object","required":["height_amsl","lat","lon"],"properties":{"height_amsl":{"description":"Height measured in meters from mean sea level (EGM96).","type":"number","format":"double"},"lat":{"description":"GPS WGS84 latitude measured in degrees.","type":"number","format":"double"},"lon":{"description":"GPS WGS84 longitude measured in degrees.","type":"number","format":"double"}}},"Quad":{"description":"Describes a compass quadrant.","type":"string","enum":["North","East","South","West"]},"Track":{"type":"object","required":["records","uas_id"],"properties":{"name":{"description":"Free-form text describing the track. Can be, for instance, the name present on the HMI.","type":["string","null"]},"records":{"description":"A list of records associated with this track.","type":"array","items":{"$ref":"#/definitions/TrackingRecord"}},"uas_id":{"description":"A unique ID used to associate this track with a specific UAS. The number itself is not relevant, it just needs to be unique per UAS.","type":"integer","format":"uint64","minimum":0.0},"uav_home_location":{"description":"If this track refers to a UAV and if applicable, this member refers to the \"home location\" set on the UAV settings. This information can be available for C-UAS systems that listen to the data link protocol between the UAV and its GCS.","anyOf":[{"$ref":"#/definitions/Position3d"},{"type":"null"}]}}},"TrackingRecord":{"description":"A tracking data record. Its main difference with detection data records is the requirement of the `alarm` and `location` members.","type":"object","required":["alarm","classification","location","record_number","time"],"properties":{"alarm":{"description":"Alarm data associated with this record.","allOf":[{"$ref":"#/definitions/Alarm"}]},"classification":{"description":"Classification of the record.","allOf":[{"$ref":"#/definitions/Classification"}]},"cuas_location":{"description":"The 3D GPS location of the CUAS recorded on this instant. Overrides the document's static_cuas_location.\n\nIf the CUAS is located at the static_cuas_location on this instant, you may skip this field.","anyOf":[{"$ref":"#/definitions/Position3d"},{"type":"null"}]},"identification":{"description":"Free form text, possibly describing the model or configuration of the UAS identified.","type":["string","null"]},"location":{"description":"The UAS location, which may be given in one of several declaration types.","allOf":[{"$ref":"#/definitions/Location"}]},"record_number":{"description":"A unique number that identifies this record between all other ones present in the document.","type":"integer","format":"uint64","minimum":0.0},"time":{"description":"UTC time as an Unix millisecond timestamp.","type":"integer","format":"uint64","minimum":0.0},"velocity":{"description":"The UAS velocity given in ENU coordinates (given from the UAS position and given in meters per second).","default":null,"anyOf":[{"$ref":"#/definitions/CoordENU"},{"type":"null"}]}}},"Version":{"enum":["0.4.1"]}}}